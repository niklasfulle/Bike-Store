<!DOCTYPE html>
<html
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
        xmlns="http://www.w3.org/1999/xhtml"
        lang="xhtml"
>
<h:body>
  <ui:composition template="../../templates/commonLayout.xhtml">
    <ui:define name="content">
      <div class="optionsCrud">
        <a class="btn" href="View.xhtml">Zurück</a>
      </div>
      <div class="frame">
        <div class="crud_div wide">
          <h3>Bestellung Speichern</h3>
          <h:form>
            <div class="order_content">
              <div class="left">
                <h:outputLabel for="order_customer">Kunde</h:outputLabel>
                <h:selectOneMenu value="#{orderController.customerId}" id="order_customer"
                                 name="customer_name_view">
                  <f:selectItems value="#{customerController.getAllCustomers()}" var="customer"
                                 itemValue="#{customer.getCustomerId()}"
                                 itemLabel="#{customer.getFirstName()} #{customer.getLastName()}"/>
                </h:selectOneMenu>
                <h:outputLabel for="order_staff">Mitarbeiter</h:outputLabel>
                <h:selectOneMenu value="#{orderController.staffId}" id="order_staff"
                                 name="staff_name_view">
                  <f:selectItems value="#{staffController.getAllStaffs()}" var="staff"
                                 itemValue="#{staff.getStaffId()}"
                                 itemLabel="#{staff.getFirstName()} #{staff.getLastName()}"/>
                </h:selectOneMenu>
                <h:outputLabel for="order_store">Laden</h:outputLabel>
                <h:selectOneMenu value="#{orderController.storeId}" id="order_store"
                                 name="store_name_view">
                  <f:selectItems value="#{storeController.getAllStores()}" var="store"
                                 itemValue="#{store.getStoreId()}"
                                 itemLabel="#{store.getStoreName()}"/>
                </h:selectOneMenu>
                <h:outputLabel for="order_date">Bestell Datum</h:outputLabel>
                <h:inputText
                        type="text"
                        id="order_date"
                        name="order_date"
                        value="#{orderController.orderDate}"
                        required="true"
                        requiredMessage="Bestell Datum darf nicht leer sein"
                        p:placeholder="yyyy-mm-dd"
                >
                  <f:convertDateTime pattern="yyyy-mm-dd"/>
                </h:inputText>
                <h:message class="errorMessage" for="order_date"/>
                <h:outputLabel for="requierd_date">Benötigt Datum</h:outputLabel>
                <h:inputText
                        type="text"
                        id="requierd_date"
                        name="requierd_date"
                        value="#{orderController.requiredDate}"
                        required="true"
                        requiredMessage="Benötigt Datum darf nicht leer sein"
                        p:placeholder="yyyy-mm-dd"
                >
                  <f:convertDateTime pattern="yyyy-mm-dd"/>
                </h:inputText>
                <h:message class="errorMessage" for="requierd_date"/>
              </div>
              <div class="right">
                <ui:insert name="orderProductSelect">
                  <ui:include src="../../components/utils/orderProductSelect.xhtml"/>
                </ui:insert>
              </div>
            </div>
            <div class="crud_buttons">
              <h:commandButton action="#{orderController.saveOrder()}" value="Speichern"
                               id="saveButton"/>
            </div>
          </h:form>
        </div>
      </div>
    </ui:define>
    <ui:define name="topdownButtons"></ui:define>
  </ui:composition>
</h:body>
</html>
